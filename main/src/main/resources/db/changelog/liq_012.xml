<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">

    <changeSet author="MShahabi" id="1778899665544-019">
    <createTable tableName="TBL_INVOICE_SALES_ITEM">

        <column name="ID" type="NUMBER(19, 0)">
            <constraints primaryKey="true" primaryKeyName="TBL_INVOICE_SALES_ITEM_PK"/>
        </column>
        <column name="C_CREATED_BY" type="VARCHAR2(255 CHAR)"/>
        <column name="D_CREATED_DATE" type="TIMESTAMP(6)"/>
        <column name="C_LAST_MODIFIED_BY" type="VARCHAR2(255 CHAR)"/>
        <column name="D_LAST_MODIFIED_DATE" type="TIMESTAMP(6)"/>
        <column name="N_VERSION" type="NUMBER(10, 0)"/>
        <column name="PRODUCT_CODE" type="VARCHAR2(100 CHAR)"/>
        <column name="PRODUCT_NAME" type="VARCHAR2(255 CHAR)"/>
        <column name="UNIT_NAME" type="VARCHAR2(255 CHAR)"/>
        <column name="NET_AMOUNT" type="FLOAT"/>
        <column name="ORDER_AMOUNT" type="FLOAT"/>
        <column name="UNIT_PRICE" type="FLOAT"/>
        <column name="LINE_PRICE" type="FLOAT"/>
        <column name="DISCOUNT" type="FLOAT"/>
        <column name="LINE_PRICE_AFTER_DISCOUNT" type="FLOAT"/>
        <column name="LEGAL_FEES" type="FLOAT"/>
        <column name="VAT" type="FLOAT"/>
        <column name="TOTAL_PRICE" type="FLOAT"/>
        <column name="NOTES" type="VARCHAR2(255 CHAR)"/>
        <column name="EXPLAIN" type="VARCHAR2(255 CHAR)"/>
        <column name="INVOICE_SALES_ID" type="NUMBER(19, 0)"/>

    </createTable>
</changeSet>

    <changeSet author="MShahabi" id="1778899665544-020">
        <createSequence sequenceName="SEQ_INVOICE_SALES_ITEM"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-021">
        <addForeignKeyConstraint baseColumnNames="INVOICE_SALES_ID"
            baseTableName="TBL_INVOICE_SALES_ITEM"
            constraintName="invoicesales_itm2invoicesales"
            referencedColumnNames="ID"
            referencedTableName="TBL_INVOICE_SALES"
            nullable="false"
            insertable="false"
            updatable="false"
        />
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-022">
        <createTable tableName="TBL_PERCENT_PER_YEAR">

            <column name="ID" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_PERCENT_PER_YEAR_PK"/>
            </column>
            <column name="C_CREATED_BY" type="VARCHAR2(255 CHAR)"/>
            <column name="D_CREATED_DATE" type="TIMESTAMP(6)"/>
            <column name="C_LAST_MODIFIED_BY" type="VARCHAR2(255 CHAR)"/>
            <column name="D_LAST_MODIFIED_DATE" type="TIMESTAMP(6)"/>
            <column name="N_VERSION" type="NUMBER(10, 0)"/>
            <column name="YEAR" type="NUMBER(19, 0)"/>
            <column name="LEGAL_FEES" type="FLOAT"/>
            <column name="VAT" type="FLOAT"/>

        </createTable>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-023">
        <createSequence sequenceName="SEQ_PERCENT_PER_YEAR"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-024">

        <insert tableName="TBL_PERCENT_PER_YEAR">
            <column name="ID" valueSequenceNext="SEQ_PERCENT_PER_YEAR"/>
            <column name="C_CREATED_BY" value="MShahabi"/>
            <column name="D_CREATED_DATE" value="19-APR-20 11.13.08.350000000 AM"/>
            <column name="C_LAST_MODIFIED_BY" value="MShahabi"/>
            <column name="D_LAST_MODIFIED_DATE" value="19-APR-20 11.13.08.350000000 AM"/>
            <column name="N_VERSION" value="0.1"/>
            <column name="YEAR">2018</column>
            <column name="LEGAL_FEES">3</column>
            <column name="VAT">6</column>
        </insert>
        <insert tableName="TBL_PERCENT_PER_YEAR">
            <column name="ID" valueSequenceNext="SEQ_PERCENT_PER_YEAR"/>
            <column name="C_CREATED_BY" value="MShahabi"/>
            <column name="D_CREATED_DATE" value="19-APR-20 11.13.08.350000000 AM"/>
            <column name="C_LAST_MODIFIED_BY" value="MShahabi"/>
            <column name="D_LAST_MODIFIED_DATE" value="19-APR-20 11.13.08.350000000 AM"/>
            <column name="N_VERSION" value="0.1"/>
            <column name="YEAR">2019</column>
            <column name="LEGAL_FEES">5</column>
            <column name="VAT">9</column>
        </insert>
        <insert tableName="TBL_PERCENT_PER_YEAR">
            <column name="ID" valueSequenceNext="SEQ_PERCENT_PER_YEAR"/>
            <column name="C_CREATED_BY" value="MShahabi"/>
            <column name="D_CREATED_DATE" value="19-APR-20 11.13.08.350000000 AM"/>
            <column name="C_LAST_MODIFIED_BY" value="MShahabi"/>
            <column name="D_LAST_MODIFIED_DATE" value="19-APR-20 11.13.08.350000000 AM"/>
            <column name="N_VERSION" value="0.1"/>
            <column name="YEAR">2020</column>
            <column name="LEGAL_FEES">4</column>
            <column name="VAT">9</column>
        </insert>

    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-026">
        <createSequence sequenceName="SEQ_VESSEL"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-032">
        <addColumn tableName="TBL_MATERIAL">
            <column name="M_DETAIL_CODE" type="varchar2(100 CHAR)"/>
        </addColumn>
        <addColumn tableName="TBL_MATERIAL_ITEM">
            <column name="MI_DETAIL_CODE" type="varchar2(100 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-033">
        <addColumn tableName="TBL_VESSEL">
            <column name="VESSEL_NAME" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-034">
        <dropColumn tableName="TBL_SHIPMENT" columnName="VESSEL_NAME"/>
        <addColumn tableName="TBL_SHIPMENT">
            <column name="VESSEL_ID" type="NUMBER(19, 0)"/>
        </addColumn>
        <addForeignKeyConstraint baseColumnNames="VESSEL_ID" baseTableName="TBL_SHIPMENT"
                                 constraintName="Shipment2vessel" deferrable="false" initiallyDeferred="false"
                                 referencedColumnNames="ID" referencedTableName="TBL_VESSEL" validate="true"/>
        <modifyDataType columnName="IMO" newDataType="varchar2(255 CHAR)" tableName="TBL_VESSEL"/>
        <modifyDataType columnName="YEAR_OF_BUILd" newDataType="varchar2(255 CHAR)" tableName="TBL_VESSEL"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-035">
        <modifyDataType columnName="SW_BL_DATE" newDataType="varchar2(100 CHAR)" tableName="TBL_SHIPMENT"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-036">
        <modifyDataType columnName="CREATE_DATE" newDataType="varchar2(100 CHAR)" tableName="TBL_SHIPMENT"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-037">
        <dropColumn tableName="TBL_MATERIAL" columnName="M_DETAIL_CODE"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-039">
        <createTable tableName="TBL_VESSEL">

            <column name="ID" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_VESSEL_PK"/>
            </column>
            <column name="C_CREATED_BY" type="VARCHAR2(255 CHAR)"/>
            <column name="D_CREATED_DATE" type="TIMESTAMP(6)"/>
            <column name="C_LAST_MODIFIED_BY" type="VARCHAR2(255 CHAR)"/>
            <column name="D_LAST_MODIFIED_DATE" type="TIMESTAMP(6)"/>
            <column name="N_VERSION" type="NUMBER(10, 0)"/>
            <column name="VESSEL_NAME" type="VARCHAR2(255 CHAR)"/>
            <column name="TYPE" type="VARCHAR2(100 CHAR)"/>
            <column name="IMO" type="NUMBER(19, 0)"/>
            <column name="YEAR_OF_BUILd" type="NUMBER(19, 0)"/>
            <column name="LENGTH" type="FLOAT"/>
            <column name="BEAM" type="FLOAT"/>
        </createTable>
        <addColumn tableName="TBL_VESSEL">
            <column defaultValueNumeric="1" name="N_E_STATUS" type="NUMBER">
                <constraints nullable="false"/>
            </column>
            </addColumn>
            <addColumn tableName="TBL_VESSEL">
            <column defaultValueNumeric="1" name="B_EDITABLE" type="NUMBER">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-040">
        <addColumn tableName="TBL_SHIPMENT">
            <column name="SHIPMENT_METHOD" type="varchar2(100 CHAR)"/>
            <column name="GROSS" type="FLOAT"/>
            <column name="NET" type="FLOAT"/>
            <column name="MOISTURE" type="FLOAT"/>
            <column name="VGM" type="FLOAT"/>
        </addColumn>
        <modifyDataType tableName="TBL_SHIPMENT" columnName="NO_BARREL" newDataType="NUMBER(19, 0)"/>
        <modifyDataType tableName="TBL_SHIPMENT" columnName="NO_PALETE" newDataType="NUMBER(19, 0)"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-041">
        <modifyDataType tableName="TBL_SHIPMENT" columnName="CREATE_DATE" newDataType="TIMESTAMP(6)"/>
        <modifyDataType tableName="TBL_SHIPMENT" columnName="BL_DATE" newDataType="TIMESTAMP(6)"/>
        <modifyDataType tableName="TBL_SHIPMENT" columnName="SW_BL_DATE" newDataType="TIMESTAMP(6)"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-042">
        <dropColumn tableName="TBL_CONTRACT_SHIPMENT" columnName="PLAN"/>
        <dropColumn tableName="TBL_CONTRACT_SHIPMENT" columnName="SHIPMENT_ROW"/>
        <dropColumn tableName="TBL_CONTRACT_SHIPMENT" columnName="ADDRESS"/>
        <dropColumn tableName="TBL_CONTRACT_SHIPMENT" columnName="DURATION"/>
        <dropColumn tableName="TBL_CONTRACT_SHIPMENT" columnName="INCOTERMS_SHIPMENT_ID"/>
        <renameColumn columnDataType="FLOAT"
                newColumnName="QUANTITY"
                oldColumnName="AMOUNT"
                tableName="TBL_CONTRACT_SHIPMENT"/>
    </changeSet>

    <changeSet author="MShahabi" id="1778899665544-043">
        <renameColumn columnDataType="VARCHAR2(255 CHAR)"
                      newColumnName="CONTRACT_START"
                      oldColumnName="PLANT"
                      tableName="TBL_CONTRACT"/>
    <addColumn tableName="TBL_CONTRACT">
            <column name="CONTRACT_END" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>


</databaseChangeLog>